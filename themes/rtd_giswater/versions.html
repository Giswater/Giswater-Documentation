{% set page_depth = pagename.split('/') | length %}
{% set to_lang_root = '../' * page_depth %}
{% set to_version_root = '../' * (page_depth + 1) %}
{% set to_site_root = '../' * (page_depth + 2) %}
<div
	class="rst-versions"
	data-toggle="rst-versions"
	role="note"
	aria-label="versions"
>
	<span class="rst-current-version" data-toggle="rst-current-version">
		<span class="fa fa-info-circle"> {{ project }} </span>
		v: {{ version }}
		<span class="fa fa-caret-down"></span>
	</span>

	<div class="rst-other-versions">
		<dl>
			<dt>{{ _('Languages') }}</dt>
			{% for slug, url in supported_languages %}
			<dd><a href="{{ to_site_root }}{{ version }}/{{ slug }}/{{ pagename }}.html">{{ slug }}</a></dd>
			{% endfor %}
		</dl>

		<dl>
			<dt>{{ _('Versions') }}</dt>
			{% for slug, url in versions %}
			<dd>
				<a href="{{ to_site_root }}{{ slug }}/{{ language|replace('-', '_') }}/{{ pagename }}.html">{{ slug }}</a>
			</dd>
			{% endfor %}
		</dl>

		{% if version_downloads %}
		<dl>
			<dt>{{ _('Downloads') }}</dt>
			{% for type, url in downloads %}
			<dd><a href="{{ url }}">{{ type }}</a></dd>
			{% endfor %}
		</dl>
		{% endif %}
	</div>
</div>
